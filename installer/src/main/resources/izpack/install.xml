<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<izpack:installation version="5.0" 
                     xmlns:izpack="http://izpack.org/schema/installation"
                     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                     xsi:schemaLocation="http://izpack.org/schema/installation
                     http://izpack.org/schema/5.0/izpack-installation-5.0.xsd">
  <properties>
    <property name="info.appName" value="Apache Syncope"/>
    <property name="info.appVersion" value="@{project.version}"/>
    <property name="info.url" value="http://syncope.apache.org"/>
    <property name="info.company.name" value="Tirasa S.r.l."/>
    <property name="info.company.email" value="info@tirasa.net"/>
  </properties>
  
  <info>
    <appname>@{info.appName}</appname>
    <appversion>@{info.appVersion}</appversion>
    <url>@{info.url}</url>
    <authors>
      <author name="@{info.company.name}" email="@{info.company.email"/>
    </authors>
    <javaversion>1.7</javaversion>
  </info>
  
  <guiprefs resizable="no" width="800" height="600">
    <modifier key="useButtonIcons" value="yes"/>
    <modifier key="useLabelIcons" value="no"/>
    <modifier key="labelGap" value="2"/>
    <modifier key="layoutAnchor" value="NORTHWEST"/>
    <modifier key="useHeadingPanel" value="no"/>
    <modifier key="headingImageOnLeft" value="yes"/>
    <modifier key="headingLineCount" value="1"/>
    <modifier key="headingFontSize" value="1.5"/>
    <modifier key="headingBackgroundColor" value="0x00ffffff"/>
    <modifier key="headingPanelCounter" value="progressbar"/>
    <modifier key="headingPanelCounterPos" value="inNavigationPanel"/>
    <laf name="substance">
      <os family="windows" />
      <os family="unix" />
      <param name="variant" value="metouia" />
    </laf>
  </guiprefs>
  
  <locale>
    <langpack iso3="eng"/>
    <langpack iso3="ita"/>
  </locale>
  
  <variables>
    <variable name="InstallerFrame.logfilePath" value="Default"/>
    <variable name="WELCOME_TEXT" value="Apache Syncope Installer"/>
    <variable name="WELCOME_VERSION" value="${appversion}"/>
    <variable name="TargetPanel.dir.unix" value="/tmp/syncope"/>
    <variable name="TargetPanel.dir.windows" value="c:\\syncope"/>
  </variables>
  
  <dynamicvariables>
    <variable name="JDK_HOME" value="${izpack.version}"/>
    <variable name="TARGET" value="${project.build.directory}"/>
  </dynamicvariables>
  
  <conditions>
    <condition type="variable" id="postgres.choice">
      <name>install.type.selection</name>
      <value>postgres</value>
    </condition>
    
    <condition type="variable" id="sqlserver.choice">
      <name>install.type.selection</name>
      <value>sqlserver</value>
    </condition>
    
    <condition type="variable" id="mysql.choice">
      <name>install.type.selection</name>
      <value>mysql</value>
    </condition>
    
    <condition type="variable" id="oracle.choice">
      <name>install.type.selection</name>
      <value>oracle</value>
    </condition>
    
    <condition type="or" id="database_advanced">
      <condition type="ref" refid="oracle.choice"/>
      <condition type="ref" refid="mysql.choice"/>
    </condition>
    
    <condition type="variable" id="tomcat.choice">
      <name>install.container.selection</name>
      <value>tomcat</value>
    </condition>
    <condition type="variable" id="glassfish.choice">
      <name>install.container.selection</name>
      <value>glassfish</value>
    </condition>
    <condition type="variable" id="jboss.choice">
      <name>install.container.selection</name>
      <value>jboss</value>
    </condition>
  </conditions>
  
  <resources>
    <res id="installer.jar" src="../installer.jar"/>
    
    <res id="Installer.image" src="img/apache-syncope-vert.png" />
    
    <res id="welcome_background" src="img/welcome_background.jpg" />
    <res id="HTMLHelloPanel.welcome" src="html/welcome.html"/>
    <res id="LicencePanel.licence" src="txt/LICENSE"/>
    <res id="HTMLInfoPanel.info" src="html/prerequisites.html"/>  
    <res id="userInputSpec.xml" src="userInputSpec.xml" />
    <res id="userInputLang.xml_eng" src="userInputLang.xml_eng" />
    <res id="userInputLang.xml_ita" src="userInputLang.xml_ita" />
    <res id="ProcessPanel.Spec.xml" src="ProcessPanel.Spec.xml"/>
  </resources>
  
  <jar src="../installer.jar" stage="install"/>
  <jar src="lib/postgresql-9.3-1101-jdbc41.jar"/>
  <jar src="lib/mysql-connector-java-5.1.31.jar"/>
  <jar src="lib/commons-logging-1.1.3.jar"/>
  <jar src="lib/commons-httpclient-3.1.jar"/>
  <jar src="lib/commons-codec-1.9.jar"/>
  <jar src="lib/jackson-core-asl-1.9.13.jar"/>
  <jar src="lib/jackson-mapper-asl-1.9.13.jar"/>
  
  <panels>
    <panel classname="HTMLHelloPanel" id="welcome"/>
       
    <panel classname="LicencePanel" id="license"/>
    <panel classname="HTMLInfoPanel" id="info"/>
    
    <panel classname="TargetPanel" id="install_dir"/>
    
    <panel classname="UserInputPanel" id="archetype">
      <validator classname="org.apache.syncope.installer.validators.ArchetypeValidator"/>
    </panel>
    <panel classname="UserInputPanel" id="persistence"/>
    <panel classname="UserInputPanel" id="persistence_advanced">
      <validator classname="org.apache.syncope.installer.validators.PersistenceValidator"/>
    </panel>
    
    <panel classname="UserInputPanel" id="container"/>
    
    <panel classname="UserInputPanel" id="container_advanced">
      <validator classname="org.apache.syncope.installer.validators.ContainerValidator"/>
    </panel>
    
    <panel classname="ProcessPanel" id="archetype_proc"/>
    
    <panel classname="SimpleFinishPanel" id="finish"/>
  </panels>
  
  <packs>
    <pack name="Apache Syncope" required="yes">
      <description>Apache Syncope</description>
    </pack>
  </packs>
  
</izpack:installation>